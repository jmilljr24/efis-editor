<div class="container">
  <div class="leftbar">
    <checklist-command-bar
        [hasFiles]="store.listChecklistFiles().length === 0"
        [fileIsOpen]="!!!selectedFile"
        (newFile)="onNewFile()"
        (openFile)="onOpenFile()"
        (uploadFile)="onUploadFile()"
        (downloadFile)="onDownloadFile($event)"
        (deleteFile)="onDeleteFile()"
        (fileInfo)="onFileInfo()"
        [downloadFormats]="[
            { id: 'ace', name: 'ACE format (G3X/GTN)' },
            { id: 'dynon', name: 'Dynon / AFS' },
            { id: 'grt', name: 'GRT' },
            { id: 'json', name: 'Raw data (JSON)' },
        ]"
    />
    <checklist-file-picker
        #filePicker
        (fileSelected)="onFileSelected($event)"
        (cancel)="onOpenFileCancel()"
        [fileNames]="store.listChecklistFiles()"
        [style.display]="showFilePicker ? '' : 'none'"
    />
    <checklist-file-upload
        [style.display]="showFileUpload ? '' : 'none'"
        (fileUploaded)="onFileUploaded($event)"
        (cancel)="onUploadFileCancel()"
    />
    <checklist-tree
        #tree
        class="checklist-tree"
        (checklistSelected)="items.checklist = $event"
        (checklistStructureChanged)="onStructureChanged($event)"
    />
  </div>
  <checklist-items
      #items
      class="checklist-items"
      (checklistChanged)="onChecklistChanged($event)"
  />
</div>